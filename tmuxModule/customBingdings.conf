#p:source this file in ~/.tmux.conf   .

# neovim like key chord example: prefix al, prefix ah ;  Prefix + a enters custom key-table "prefix_g"
bind-key -T prefix a switch-client -T prefix_a

bind-key -T prefix_a l run-shell "tmux next-window; tmux switch-client -T root"
bind-key -T prefix_a h run-shell "tmux previous-window; tmux switch-client -T root"
bind-key -T prefix_a f run-shell "tmux last-window; tmux switch-client -T root"
# bind-key -T prefix_a b run-shell "/run/media/sj/developer/zshScript/shellScript/backup_dotfiles.sh"  # copy all the back files to backup folder
  
bind-key -T prefix_a b command-prompt -p "Commit message:" \
  "run-shell '/run/media/sj/developer/zshScript/shellScript/full_dotfile_push.sh %%'"   # copy all the back files to backup folder and push to github

# /run/media/sj/developer/zshScript/shellScript/tmux-copy-pwd2.sh
bind-key -T prefix_a n run-shell "/run/media/sj/developer/zshScript/shellScript/tmux-copy-pwd-and-nvim.sh"
bind-key -T prefix_a p run-shell "/run/media/sj/developer/zshScript/shellScript/tmuxCopy2.sh"

# Close YouTube tabs with prefix + y
bind-key -T prefix_a y run-shell "source ~/.venvs/browserctl/bin/activate && python /run/media/sj/developer/zshScript/browserAutomation/close_youtube_tabs.py"
# ✅ Go to the last used pane (prefix + a + w)
bind-key -T prefix_a w select-pane -l \; switch-client -T root

# ✅ Go to the last used pane and then zoom in (prefix  a  u)
bind-key -T prefix_a u select-pane -l \; resize-pane -Z \; switch-client -T root


# Bind prefix + u to prompt for pane number to kill

# Fixed one-liner for tmux.conf
bind-key u popup -E "/home/sj/.config/tmux/tmuxShellScript/tmuxKillPane.sh"





bind-key -T prefix_a s command-prompt -p "New session name:" "run-shell 'SESSION=%%; \
tmux new-session -d -s \"\$SESSION\" -n 1; \
tmux split-window -t \"\$SESSION\":1.1 -v; \
tmux split-window -t \"\$SESSION\":1.2 -v; \
tmux send-keys -t \"\$SESSION\":1.1 \"zsh -i -c 'tr'\" C-m; \
tmux select-pane -t \"\$SESSION\":1.1; \
tmux switch-client -t \"\$SESSION\"'"
#
#
#switch to last active session 
bind-key i switch-client -l

# Bind 'prefix  l' to switch to the last window
bind f last-window
# Ensure new windows and panes inherit the current working directory
bind-key c new-window -c "#{pane_current_path}"
bind-key 'v' split-window -h -c "#{pane_current_path}"
bind-key 'g' split-window -v -c "#{pane_current_path}"



# Change keybinds for splitting windows
unbind %
bind | split-window -h
# bind v split-window -h
# bind - split-window -v
# bind g split-window -v



# bind B switch-client -t cfg   #prefix B to switch the session cfg
# bind b switch-client -t rcd   #prefix b to switch the session cfg

bind B run-shell "tmux has-session -t cfg 2>/dev/null || tmux new-session -d -s cfg; tmux switch-client -t cfg"
bind b run-shell "tmux has-session -t rcd 2>/dev/null || tmux new-session -d -s rcd; tmux switch-client -t rcd"

bind -r j resize-pane -D 5      # Resize pane down (repeatable)
bind -r k resize-pane -U 5      # Resize pane up (repeatable)
bind -r l resize-pane -R 5      # Resize pane right (repeatable)
bind -r h resize-pane -L 5      # Resize pane left (repeatable)

bind -r m resize-pane -Z        # Toggle maximize/minimize pane


